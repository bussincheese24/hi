<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="utf-8">
	<title>JustBuild.LOL | Online Building Simulator Unblocked</title>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-118283086-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'UA-118283086-1');


	</script>
	<script>
		var userAgent = navigator.userAgent || navigator.vendor || window.opera;

		if (/bot|crawler|spider|crawling/i.test(userAgent)) {
			// do nothing
		}

		// Windows Phone
		else if (/windows phone/i.test(userAgent)) {
			window.location.replace("/mobile");
		}

		// Android
		else if (/android/i.test(userAgent)) {
			window.location.replace("https://play.google.com/store/apps/details?id=lol.onevone");
		}

		// iOS
		else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
			window.location.replace("https://apps.apple.com/app/id1508620125");
		}

		var gameLoaded = false;
		window.addEventListener("beforeunload", function (e) {
			if (adsVisible || !gameLoaded || !lockedOccured)
				return null;
			var confirmationMessage = 'Are you sure you want to leave? ';
			(e || window.event).returnValue = confirmationMessage; //Gecko + IE
			return confirmationMessage; //Gecko + Webkit, Safari, Chrome etc.
		});
	</script>
	<!-- Rise SDK -->
	<script src="js/wrapper-hb.loader.js"></script>
	<link rel="shortcut icon" type="image/png" href="favicons/.-3483-favicon.png">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta name="description" content="Practice your battle royale skills with the justbuild.lol building training simulator, just build lol!">
    <meta name="keywords" content="just build lol,simulator,building,practice,train,free,online,battle royale">
	<script type="text/javascript" src="js/sdkloader-ima3.js"></script>
	<link rel="stylesheet" href="css/www.justbuild.lol-style.css">
	<style>
		.ad-rectangle-top {
			top: 50%;
			right: 0;
			width: 310px;
			height: 270px;
			margin: -261px 0;
			border-style: solid;
			border-width: 10px 0px 10px 10px;
			border-color: rgba(0, 0, 0, 0.01);
			display: block;
			transform-origin: 100% 100%;
		}

		.ad-rectangle-bottom {
			top: 50%;
			right: 0;
			width: 310px;
			height: 260px;
			margin: 9px 0;
			border-style: solid;
			border-width: 0px 0px 0px 10px;
			border-color: rgba(0, 0, 0, 0.01);
			display: block;
			transform-origin: 100% 0%;
		}

		.ad-leaderboard-bottom {
			bottom: 0;
			left: 50%;
			width: 748px;
			height: 100px;
			margin: 0 0 0 -403px;
			border-style: solid;
			border-width: 10px 10px 0px 10px;
			border-color: rgba(0, 0, 0, 0.01);
			display: block;
			transform-origin: bottom;
		}

		#adWindow {
			border: 10px solid #4382f5 !important;
			height: 500px !important;
		}

		a[onclick*="showConsentToolSettings"] {
			right: 0px;
			left: auto !important;
		}
	</style>
	<!-- ZONETAG - PLACE INTO HEAD SECTION OR RUN CODE AT STARTUP -->
	<script>
	(function(zonefile) { 
		var rnd = Math.round(Math.random()*999999);
		var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
		var proto = document.location.protocol;
		var host = ( proto == "https:" || proto == "file:")?"https://server":"//cdn";
		if(window.location.hash=="#cpmstarDev") host = "//dev.server";
		if(window.location.hash=="#cpmstarStaging") host = "//staging.server"; 
		s.src = host + ".cpmstar.com/cached/zonefiles/" + zonefile + ".js?rnd="+rnd; 
		var s2=document.getElementsByTagName('script')[0];
		s2.parentNode.insertBefore(s, s2);
		var y=window.location.href.split('#')[0].split('').reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>1},0);y=(10+((y*7)%26)).toString(36)+y.toString(36);
		var drutObj = window[y] = window[y] || {};
		window.cpmstarAPI = function(o) { (drutObj.cmd = drutObj.cmd || []).push(o); }
		}('360_49986_gameapi'));
	</script>
	<!-- MIDROLL/INTERSTITIAL VIDEO API -->
	<script>
		//init the interstitial 

		var iAd;
		cpmstarAPI(function (api) {
			console.log("Setting iAD")
			iAd = new api.game.InterstitialView("interstitial");
			iAd.load();
			iAd.addEventListener("ad_opened", function (e) {
				iAdPause(); //Pause the game when ad is open 
			});

			iAd.addEventListener("ad_closed", function (e) {
				setTimeout(function () {
					iAdUnpause(); //Unpause when ad closed.  
				}, 700);
				iAd.load(); //Preload another ad. 
			});
		});

		function iAdPause() {

		}
		function iAdUnpause() {
			unityAdFinishedCallback()
		}


		function requestNewAd() {
			console.log("requested AD");
			
			var shouldShow = false;
			var now = Date.now();
			if(!lastInterstitialShownDate || typeof lastInterstitialShownDate !== "number" || now - lastInterstitialShownDate >= 60 * 1000)
			{
				shouldShow = true;
			}
			
			if (interstitialInstance && interstitialLoaded && shouldShow) {
				interstitialInstance.displayInterstitial();
				lastInterstitialShownDate = now;
			}
			else {
				unityAdFinishedCallback();
			}
			
			/*console.log(iAd)
			if (iAd && iAd.isLoaded()) {
				iAd.show(); //Show loaded ad   
			}
			else {
				if (iAd) iAd.load(); //If no ad available, load another      
				unityAdFinishedCallback()
			}*/
		}

		// This function calls Unity to tell the ad finished
		function unityAdFinishedCallback() {
			try {
				if (gameInstance)
					gameInstance.SendMessage('AdsManager', 'OnWebCallback');
			}
			catch (error) {
				console.log(error);
			}
		}
	</script>
</head>

<body style="overflow:hidden">
	<!-- Rise SDK -->
	<script>
		var interstitialInstance;
		var interstitialLoaded = false;
		var lastInterstitialShownDate;
		
		window.playerConfigs = {
			'61712797ab1f86000190f30a': {
				plugins: {
					interstitial: {
						enabled: true,
						zIndex: 20000,
						closeButton: true
					}
				}
			}
		}
	
		window.srInterstitialCallback = {
			'61712797ab1f86000190f30a': function (error, player) {
				if (error) {
					console.log(error);
					interstitialLoaded = false;
				}
				interstitialInstance = player;
				
				player.on('interstitialready', function () {
					console.log('interstitialready');
					interstitialLoaded = true;
				});
				
				player.on('interstitialnofill', function () {
					console.log('interstitialnofill');
					interstitialLoaded = false;
				});
				
				player.on('interstitialexpired', function () {
					console.log('interstitialexpired');
					interstitialLoaded = false;
				});
				
				player.on('interstitialcomplete', function () {
					console.log('interstitialcomplete');
					interstitialLoaded = false;
					
					unityAdFinishedCallback();
				});
			}
		}
	</script>
	<div id="generalModal" class="modal">
		<div id="generalModalContent" class="modalContent"></div>
	</div>
	
	<div id="interAdsContainer"></div>
	
	<div id="adsModal" class="modal">
		<div id="content" class="modalContent">
			<div id="adContainer"></div>
			<video id="contentElement" hidden></video>
		</div>
	</div>

	<div id="gameContainer"></div>
	<div id="loader">
		<img class="logo" src="images/www.justbuild.lol-logo.png">
		<div class="spinner"></div>
		<div class="progress">
			<div class="full"></div>
		</div>
	</div>

	<div class="ad ad-rectangle-top" id="adRectangleTop">
	<script>
	(function(w,pid){
	var r=function(c,m){c=c.split('').reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>m},0);return(10+((c*7)%26)).toString(36)+c.toString(36);},y=r(w.location.href.split('#')[0],1),c=r(w.location.href.split('#')[0]+pid,0);
	w.document.write('<div style="width:300px;height:250px" class="'+c+'"></script></div>');
	})(window,82864);
	
    
    <div class="ad ad-rectangle-bottom" id="adRectangleBottom">
	<script>
	(function(w,pid){
	var r=function(c,m){c=c.split('').reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>m},0);return(10+((c*7)%26)).toString(36)+c.toString(36);},y=r(w.location.href.split('#')[0],1),c=r(w.location.href.split('#')[0]+pid,0);
	w.document.write('<div style="width:300px;height:250px" class="'+c+'"></script></div>');
	})(window,81633);
	
    
	<div class="ad ad-leaderboard-bottom" id="adLeaderboardBottom">
	<script>
	(function(w,pid){
	var r=function(c,m){c=c.split('').reduce(function(a,b){return(a<<5)-a+b.charCodeAt(0)>>>m},0);return(10+((c*7)%26)).toString(36)+c.toString(36);},y=r(w.location.href.split('#')[0],1),c=r(w.location.href.split('#')[0]+pid,0);
	w.document.write('<div class="'+c+'"></script></div>');
	})(window,81630);
	
    

	<script>
		/* View in fullscreen */
		var elem = document.documentElement;
		function openFullscreen() {
			if (elem.requestFullscreen) {
				elem.requestFullscreen();
			} else if (elem.mozRequestFullScreen) { /* Firefox */
				elem.mozRequestFullScreen();
			} else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
				elem.webkitRequestFullscreen();
			} else if (elem.msRequestFullscreen) { /* IE/Edge */
				elem.msRequestFullscreen();
			}
		}

		/* Close fullscreen */
		function closeFullscreen() {
			if (document.exitFullscreen) {
				document.exitFullscreen();
			} else if (document.mozCancelFullScreen) { /* Firefox */
				document.mozCancelFullScreen();
			} else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
				document.webkitExitFullscreen();
			} else if (document.msExitFullscreen) { /* IE/Edge */
				document.msExitFullscreen();
			}
		}

		function updateFullscreen() {
			var isInFullScreen = (document.fullscreenElement && document.fullscreenElement !== null) ||
				(document.webkitFullscreenElement && document.webkitFullscreenElement !== null) ||
				(document.mozFullScreenElement && document.mozFullScreenElement !== null) ||
				(document.msFullscreenElement && document.msFullscreenElement !== null);
			if (!isInFullScreen)
				openFullscreen();
			else
				closeFullscreen();
		}

	</script>

	<script src="js/2-UnityLoader.js"></script>
	<!-- <script src="Build/UnityLoader.js"></script> -->
	<script>
		var gameInstance = UnityLoader.instantiate("gameContainer", "https://justbuild.nyc3.cdn.digitaloceanspaces.com/1v1oldschool/2/Build.json", {onProgress: UnityProgress});
		// var gameInstance = UnityLoader.instantiate("gameContainer", "Build/Build.json", { onProgress: UnityProgress });
		var lockedOccured = false;
		let isFirstLoad = true;
		let lastRefreshTime = new Date();
		let isIframe;
		showAds();
		function UnityProgress(gameInstance, progress) {
			if (!gameInstance.Module) {
				return;
			}
			const loader = document.querySelector("#loader");
			if (!gameInstance.progress) {
				const progress = document.querySelector("#loader .progress");
				progress.style.display = "block";
				gameInstance.progress = progress.querySelector(".full");
				loader.querySelector(".spinner").style.display = "none";
			}
			gameInstance.progress.style.transform = `scaleX(${progress})`;
			if (progress === 1 && !gameInstance.removeTimeout) {
				loader.style.display = "none";
				gameLoaded = true;
			}
		}

		document.onkeydown = function (e) {
			if (e.altKey || e.ctrlKey || e.key == "F1" || e.key == "F2" || e.key == "F3" || e.key == "F4") {
				e.preventDefault();
			}
		}

		document.onmouseup = function (e) {
			e.preventDefault();
		}

		document.addEventListener('pointerlockchange', lockChangeAlert, false);
		document.addEventListener('mozpointerlockchange', lockChangeAlert, false);

		function lockChangeAlert() {
			if (!lockedOccured && document.pointerLockElement)
				lockedOccured = true;
			if (!document.pointerLockElement && lockedOccured)
				gameInstance.SendMessage("Pause Menu", "PauseGame");
		}

		isFirstLoad = true;
	
		function showAds() {
			document.getElementById("adRectangleTop").style.display = "block";
			document.getElementById("adRectangleBottom").style.display = "block";
			document.getElementById("adLeaderboardBottom").style.display = "block";

			if (isFirstLoad) {
				isFirstLoad = false;
			}
			else {
				refresh();
			}
		}

		function hideAds() {
			document.getElementById("adRectangleTop").style.display = "none";
			document.getElementById("adRectangleBottom").style.display = "none";
			document.getElementById("adLeaderboardBottom").style.display = "none";
		}

		function refresh() {					
			if (new Date() - lastRefreshTime < 500)
				return;						
			lastRefreshTime = new Date();
			
			cpmstarAPI({ kind: "adcmd", module: "POOL 83023", command: "refresh" });
			cpmstarAPI({ kind: "adcmd", module: "POOL 83025", command: "refresh" });
			if (isIframe || document.getElementsByTagName('body')[0].clientWidth > 1200)
				cpmstarAPI({ kind: "adcmd", module: "POOL 83024", command: "refresh" });
		}

		window.onfocus = function () {
			refresh();
		};

	</script>
	<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
	<script src="js/6.3.4-firebase-app.js"></script>

	<!-- Add Firebase products that you want to use -->
	<script src="js/6.3.4-firebase-auth.js"></script>
	<script src="js/6.3.4-firebase-firestore.js"></script>

	<script src="js/.-1897-firebase.js"></script>
	<script src="js/.-7509-login.js"></script>
	<script src="js/.-6007-fireStore.js"></script>

	<script>
		initializeFireBase();
		// initializeFirestore();
	</script>

	<script>
		isIframe = false;
		if (window.self != window.top) {
			isIframe = true;
			function WindowResize() {
				var v = window.innerWidth;
				var maxRes = 1320;

				if (v < maxRes) {
					var ads = document.getElementsByClassName('ad');

					for (const ad of ads) {
						ad.style.transform = "scale(" + v / maxRes + ")";
					}
				}
				else {
					var ads = document.getElementsByClassName('ad');

					for (const ad of ads) {
						ad.style.transform = "scale(1)";
					}
				}
			}
			window.addEventListener("resize", WindowResize);
			WindowResize();
		}
		else {
			var styles = `
    @media screen and (max-width: 1200px) { 
		.ad-leaderboard-bottom {
			display: none !important;
		}
	}
`

			var styleSheet = document.createElement("style")
			styleSheet.type = "text/css"
			styleSheet.innerText = styles
			document.head.appendChild(styleSheet)
		}
	</script>
</body>

</html>
